{% extends 'base.html' %}

{% load static %}

{% block title %}Solve Mystery{% endblock %}

{% block content %}
    
    <!-- Question story. -->
    
    <div id="story" style="margin-top: 0vh;">
            <h1>Story</h1>
        <p class="question_story">{{ question.question_story }}</p>
    </div>

    <!-- Question content. Hidden by default -->
    <div id="question" style="display: none; margin-top: 0vh; overflow-x: hidden; overflow-y:scroll;">
        <h2>Question</h2>
        <p style="margin-top: 2%; margin-left: 1%;" id="question-main">{{ question.question_text }}</p>
        {% if question.image %}
            <div id="ques-img" style="margin-top: 2%; margin-left: 1%;">
                    <img src="{{ question.image.url }}" alt="Question Image">
            </div>
        {% endif %}
        
        <!-- Submission form -->
        <form action="{% url 'submit' %}" method="POST" id="ans-form" style="margin-top: 4%; margin-left: 1%;">
            {% csrf_token %}
            <input name="answer" id = "answer" type="text" placeholder="Answer">
            <p><input class="btn1 d-block ques-btn" type="submit" value="submit"></p>
        </form>
    </div>

    <button class="btn1" onclick="displayQuestion()" id="question-btn">Go to the question</button>
    <button class="btn1" onclick="displayStory()" style="display: none;" id="story-btn">Go back</button>

    <p id='response'></p>

    <script>
        function displayQuestion() {
            document.querySelector('#story').style.display = "none";
            document.querySelector("#question").style.display = "block";
            document.querySelector('#question-btn').style.display = "none";
            document.querySelector('#story-btn').style.display = "block";
        }

        function displayStory() {
            document.querySelector('#story').style.display = "inline-block";
            document.querySelector("#question").style.display = "none";
            document.querySelector('#question-btn').style.display = "inline-block";
            document.querySelector('#story-btn').style.display = "none";
        }
    </script>    
    <script src="{% static 'js/ajax_submit.js' %}"></script>
{% endblock %}